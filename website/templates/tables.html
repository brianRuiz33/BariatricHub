{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <!--Bootstrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="{% static 'website/css/main.css' %}" />
  </head>

  <body>
    <div class="container tables-nb">
      <h1 class="mt-3">Appoinment Form Leads</h1>
      <div style="overflow-x: scroll">
        <table
          class="mt-3 table table-striped table-bordered table-hover text-nowrap"
          style="min-width: 1400px"
        >
          <thead class="table-dark text-nowrap text-center">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombre</th>
              <th scope="col">Edad</th>
              <th scope="col">Telefono</th>
              <th scope="col">Peso</th>
              <th scope="col">Estatura</th>
              <th scope="col">
                Procedimiento <br />
                de Interes
              </th>
              <th scope="col">
                Kilos a <br />
                perder
              </th>
              <th scope="col">
                Cirugias <br />
                Previas
              </th>
              <th scope="col">
                Condiciones <br />
                Medicas
              </th>
              <th scope="col">
                Medicacion <br />
                actual
              </th>
              <th scope="col">
                Puede <br />
                Viajar
              </th>
              <th scope="col">
                Formas de <br />
                Contacto
              </th>
              <th scope="col">
                Fecha de <br />
                registro
              </th>
            </tr>
          </thead>
          <tbody>
            {% for lead in leads %}
            <tr>
              <td>{{ lead.id }}</td>
              <td>{{ lead.full_name }}</td>
              <td>{{ lead.age }}</td>
              <td>{{ lead.phone }}</td>
              <td>{{ lead.weight }}</td>
              <td>{{ lead.height }}</td>
              <td>{{ lead.procedure_of_interest }}</td>
              <td>{{lead.weight_to_lose }}</td>
              <td>{{ lead.prev_surgeries|default:"—" }}</td>
              <td>{{ lead.medical_conditions|default:"—" }}</td>
              <td>{{ lead.medications|default:"—" }}</td>
              <td>
                {% if lead.travel %}
                <span class="badge bg-success">Yes</span>
                {% else %}
                <span class="badge bg-danger">No</span>
                {% endif %}
              </td>
              <td>{{ lead.forms_of_contact }}</td>
              <td>{{ lead.created_at}}</td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="13" class="text-center">No records found</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <br /><br /><br />
      <div>
        <h1>Contact Form</h1>
        <table
          class="mt-3 table table-striped table-bordered table-hover text-nowrap"
        >
          <thead class="table-dark text-nowrap text-center">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              <th scope="col">Reason</th>
              <th scope="col">Message</th>
              <th scope="col">Created Date</th>
            </tr>
          </thead>
          <tbody>
            {% for contact in contacts %}
            <tr>
              <td>{{ contact.id }}</td>
              <td>{{ contact.name }}</td>
              <td>{{ contact.email }}</td>
              <td>{{ contact.phone }}</td>
              <td>{{ contact.reason }}</td>
              <td>{{ contact.message }}</td>
              <td>{{ contact.created_date }}</td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="7" class="text-center">No records found</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
